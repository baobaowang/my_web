## 模板的基本用法  
1. 模板语法  
```html
<!--模板在/templates/文件名.html下-->
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>{{user.username}}'s Watchlist</title>
    </head>
    <body>
        <a href="{{ url_for('index') }}">&larr; Return</a>
        <h2>{{user.username}}</h2>
        {%if user.bio%}
            <i>{{user.bio}}</i>
        {%else%}
        <i>This user has not provided a bio.</i>
        {%endif%}
        {#下面是电影清单,这是注释#}
        <h5>{{user.username}}'s Watchlist({{movies|length}}):</h5>
        <ul>
            {%for movie in movies%}
                <li>{{movie.name}}-{{movie.year}}</li>
            {%endfor%}
        </ul>
    </body>
</html>
1.语句,如if判断,for循环等
    {%...%}
2. 表达式
    {{...}}
3. 注释
    {#...#}
4. 在jinja2中,使用  "." 获取变量属性,如字典中的username值:user.username,等同于user['username']
5. 在语句结尾的地方必须添加结束标签.
    {%endif%}       {%endfor%}
```
2. 渲染模板  
```python
#使用render_template
from flask import Flask
app = Flask(__name__)

user = {
    'username' : '蔡徐坤',
    'bio' : '唱,跳,rap,篮球',
}
movies = [
    {'name':'My Neighbor Totore','year':'1983'},
    {'name':'Three Colours trilogy','year':'1993'},
    {'name':'Forrest Gump','year':'1994'},
    {'name':'Perfect Blue','year':'1997'},
]

from flask import render_template

@app.route('/watchlist')
def watchlist():
    return render_template('watchlist.html',user=user,movies=movies
#左边的user是模板的变量,右边的user是要传入的对象
#传入jinja2的变量值可以是字符串,列表和字典,函数,类和类实例
#如果要传入函数在模板中调用,那么需要传入函数本身,而不是函数调用(函数的返回值),
# 所以仅写出函数名称即可,
# 当把函数传入模板后,就可以像在Python中通过添加括号的方式调用,也可以在括号中传入参数.
```
## 模板辅助工具  
1. 上下文  
    1. 在模板中定义变量  
    ```python
    #1. 在模板中定义变量
    #这段不明白什么意思,目前的理解是列表里面的元组
    {% set navigation = [('/','Home'),('/about','About')] %}
    #2. 可以将一部分数据定义为变量,使用set和endset声明开始结束
    {%  set navigation %}
        <li><a href = "/">Home</a>
        <li><a href="/about">About</a>
    ```
    2. 上下文变量
    ```python
    #1. 内置上下文变量,可以直接在模板中使用
            config               当前配置对象
            request             当前请求对象,已激活环境可用
            session             当前会话对象,已激活环境可用
            g                           与请求绑定的全局变量,已激活环境可用
    #2. 自定义上下文(设置模板全局变量)
            @app.context_processor
            def inject_foo():
                foo = 'I am foo'
                return dict(foo=foo)#等同于{'foo':foo}
            #app.context_processor装饰器用来注册模板全局变量,
            # 需要return一个包含键值对的字典,
            # 第一个foo是模板中的全局变量,第二个foo是需要传入模板的变量
    ```









